---
import type { ImageMetadata } from "astro";

interface Badge {
  src: string;
  alt: string;
}

interface Props {
  image: ImageMetadata;
  alt: string;
  href: string;
  title: string;
  description: string;
  descriptionKey: string;
  badges: Badge[];
}

const { image, alt, href, title, description, descriptionKey, badges } = Astro.props;
---

<div class='flex flex-col p-6 gap-4'>
  <div class="relative overflow-hidden rounded-xl">
    <img class="w-[500px] rounded-xl hover:scale-105 transition" src={image.src} alt={alt}>
    <a href={href} target="_blank" class='absolute bottom-0 flex justify-between bg-gradient-to-t from-black/40 to-transparent text-white font-bold tracking-wide rounded-b-xl backdrop-blur-sm w-full px-4 py-2 sm:py-4'>
      <span class="text-md sm:text-xl font-family-nunito">
        {title}
      </span>
      <svg           
        width="20"
        height="20"
        viewBox="0 0 496 512"
        fill="white"
        stroke="currentColor"
        class="w-4 md:w-10"
      >
        <path d="M320 0c-17.7 0-32 14.3-32 32s14.3 32 32 32l82.7 0L201.4 265.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0L448 109.3l0 82.7c0 17.7 14.3 32 32 32s32-14.3 32-32l0-160c0-17.7-14.3-32-32-32L320 0zM80 32C35.8 32 0 67.8 0 112L0 432c0 44.2 35.8 80 80 80l320 0c44.2 0 80-35.8 80-80l0-112c0-17.7-14.3-32-32-32s-32 14.3-32 32l0 112c0 8.8-7.2 16-16 16L80 448c-8.8 0-16-7.2-16-16l0-320c0-8.8 7.2-16 16-16l112 0c17.7 0 32-14.3 32-32s-14.3-32-32-32L80 32z"/>
      </svg>
    </a>
  </div>
  <div>
    <p class="max-w-[500px] text-sm sm:text-lg text-emerald-950 dark:text-emerald-100 font-family-roboto font-normal tracking-wide" data-translate-key={descriptionKey}>{description}</p>
  </div>
  <div class="flex sm:gap-4">
    {badges.map(badge => (
      <img class="rounded-2xl opacity-80 scale-75 sm:scale-100" src={badge.src} alt={badge.alt} />
    ))}
  </div>
</div>